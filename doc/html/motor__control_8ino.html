<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESS-NW-CAR: ard-motor/motor_control/motor_control.ino File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ESS-NW-CAR
   </div>
   <div id="projectbrief">Embedded Self-adaptive Services</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c1794286e0f04e4e43e1636f96cec4ee.html">ard-motor</a></li><li class="navelem"><a class="el" href="dir_a2475e854963ca5c0d6aaabf2ec95687.html">motor_control</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">motor_control.ino File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;Servo.h&gt;</code><br />
<code>#include &lt;SPI.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for motor_control.ino:</div>
<div class="dyncontent">
<div class="center"><img src="motor__control_8ino__incl.png" border="0" usemap="#ard-motor_2motor__control_2motor__control_8ino" alt=""/></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8e1ee46448a9d6fd89208aa48e0b1e58"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#a8e1ee46448a9d6fd89208aa48e0b1e58">MOTOR_PIN</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a8e1ee46448a9d6fd89208aa48e0b1e58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1961f3a7a24bae3783b7043f88b0e93d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#a1961f3a7a24bae3783b7043f88b0e93d">ESC_MAX</a>&#160;&#160;&#160;2000</td></tr>
<tr class="separator:a1961f3a7a24bae3783b7043f88b0e93d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac11d382b56b0188324aa4eab80fb841e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#ac11d382b56b0188324aa4eab80fb841e">ESC_MAX_CAP</a>&#160;&#160;&#160;1300</td></tr>
<tr class="separator:ac11d382b56b0188324aa4eab80fb841e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3c9443c0f6d11a36b9e9ea4452a4332"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#aa3c9443c0f6d11a36b9e9ea4452a4332">ESC_MIN</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:aa3c9443c0f6d11a36b9e9ea4452a4332"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e637289506ec631c005ae3fc93feb7f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#a0e637289506ec631c005ae3fc93feb7f">ESC_CALIBRATION_DELAY</a>&#160;&#160;&#160;5000</td></tr>
<tr class="separator:a0e637289506ec631c005ae3fc93feb7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a41ab216e5535ffb96f4af0064e3b2ddd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#a41ab216e5535ffb96f4af0064e3b2ddd">setMotorPWM</a> (float dutyCycle)</td></tr>
<tr class="memdesc:a41ab216e5535ffb96f4af0064e3b2ddd"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for setting the motor PWM from a percentage value.  <a href="#a41ab216e5535ffb96f4af0064e3b2ddd">More...</a><br /></td></tr>
<tr class="separator:a41ab216e5535ffb96f4af0064e3b2ddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2973d8c2f8d00850169fe91fde6a4379"><td class="memItemLeft" align="right" valign="top"><a id="a2973d8c2f8d00850169fe91fde6a4379"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#a2973d8c2f8d00850169fe91fde6a4379">startSPI</a> ()</td></tr>
<tr class="memdesc:a2973d8c2f8d00850169fe91fde6a4379"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for setting up the SPI communication using interrupts. <br /></td></tr>
<tr class="separator:a2973d8c2f8d00850169fe91fde6a4379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9cad97352f5ba9bbd800446131125a6"><td class="memItemLeft" align="right" valign="top"><a id="af9cad97352f5ba9bbd800446131125a6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#af9cad97352f5ba9bbd800446131125a6">ISR</a> (SPI_STC_vect)</td></tr>
<tr class="memdesc:af9cad97352f5ba9bbd800446131125a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">An interrupt handler for SPI communication. <br /></td></tr>
<tr class="separator:af9cad97352f5ba9bbd800446131125a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33a6372b081bbbb6a46c8521eaa88635"><td class="memItemLeft" align="right" valign="top"><a id="a33a6372b081bbbb6a46c8521eaa88635"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#a33a6372b081bbbb6a46c8521eaa88635">setupAndCallibrateESC</a> ()</td></tr>
<tr class="memdesc:a33a6372b081bbbb6a46c8521eaa88635"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for setting up communication with the ESC. <br /></td></tr>
<tr class="separator:a33a6372b081bbbb6a46c8521eaa88635"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc01d736fe50cf5b977f755b675f11d"><td class="memItemLeft" align="right" valign="top"><a id="a4fc01d736fe50cf5b977f755b675f11d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#a4fc01d736fe50cf5b977f755b675f11d">setup</a> ()</td></tr>
<tr class="memdesc:a4fc01d736fe50cf5b977f755b675f11d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ardunino setup function. Runs once when the board is started. <br /></td></tr>
<tr class="separator:a4fc01d736fe50cf5b977f755b675f11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe461d27b9c48d5921c00d521181f12f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#afe461d27b9c48d5921c00d521181f12f">loop</a> ()</td></tr>
<tr class="memdesc:afe461d27b9c48d5921c00d521181f12f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arduino loop function. Runs over and over, until the Arduino is turned off. Starts after the <a class="el" href="ard-speed_8ino.html#a4fc01d736fe50cf5b977f755b675f11d">setup()</a> has finished.  <a href="#afe461d27b9c48d5921c00d521181f12f">More...</a><br /></td></tr>
<tr class="separator:afe461d27b9c48d5921c00d521181f12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3995286df48f23812499c294c02764bb"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#a3995286df48f23812499c294c02764bb">PID_P</a> = 0.005</td></tr>
<tr class="separator:a3995286df48f23812499c294c02764bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6ab5e3eb9d1c0d756423a96f95730a6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#af6ab5e3eb9d1c0d756423a96f95730a6">PID_I</a> = 0.005</td></tr>
<tr class="separator:af6ab5e3eb9d1c0d756423a96f95730a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9408bfa2c8ec3512da092d1412bd05fd"><td class="memItemLeft" align="right" valign="top"><a id="a9408bfa2c8ec3512da092d1412bd05fd"></a>
Servo&#160;</td><td class="memItemRight" valign="bottom"><b>esc</b></td></tr>
<tr class="separator:a9408bfa2c8ec3512da092d1412bd05fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ce8e6a119ea980396953dac248489a2"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#a9ce8e6a119ea980396953dac248489a2">intermediateTargetSpeed</a> = 0</td></tr>
<tr class="separator:a9ce8e6a119ea980396953dac248489a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8351c4fcb750bbcffa4d8a35849724fe"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#a8351c4fcb750bbcffa4d8a35849724fe">targetSpeed</a> = 0</td></tr>
<tr class="separator:a8351c4fcb750bbcffa4d8a35849724fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafc1a3c9947000e0a7d3104f1db4532e"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#aafc1a3c9947000e0a7d3104f1db4532e">lastEncoderVal</a> = 0</td></tr>
<tr class="separator:aafc1a3c9947000e0a7d3104f1db4532e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bdd1e71e8033361065bc303d06f7d21"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#a1bdd1e71e8033361065bc303d06f7d21">lastPWM</a> = 0</td></tr>
<tr class="separator:a1bdd1e71e8033361065bc303d06f7d21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5fcfbcfe3428207cc7df005160d878f"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#ab5fcfbcfe3428207cc7df005160d878f">errorSum</a> = 0</td></tr>
<tr class="separator:ab5fcfbcfe3428207cc7df005160d878f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cc45e3ef5aa676459bce8984ad53c53"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#a8cc45e3ef5aa676459bce8984ad53c53">time_last</a></td></tr>
<tr class="separator:a8cc45e3ef5aa676459bce8984ad53c53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2246025bfa9564925f9204954b759ad5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__control_8ino.html#a2246025bfa9564925f9204954b759ad5">iterationsFromStop</a> = 0</td></tr>
<tr class="separator:a2246025bfa9564925f9204954b759ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a0e637289506ec631c005ae3fc93feb7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e637289506ec631c005ae3fc93feb7f">&#9670;&nbsp;</a></span>ESC_CALIBRATION_DELAY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ESC_CALIBRATION_DELAY&#160;&#160;&#160;5000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Time in ms before any PWM is sent to the motor on boot. </p>

</div>
</div>
<a id="a1961f3a7a24bae3783b7043f88b0e93d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1961f3a7a24bae3783b7043f88b0e93d">&#9670;&nbsp;</a></span>ESC_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ESC_MAX&#160;&#160;&#160;2000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum PWM for ESC. </p>

</div>
</div>
<a id="ac11d382b56b0188324aa4eab80fb841e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac11d382b56b0188324aa4eab80fb841e">&#9670;&nbsp;</a></span>ESC_MAX_CAP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ESC_MAX_CAP&#160;&#160;&#160;1300</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A hard coded maximum PWM for the ESC. Adjust this to account for different loads. </p>

</div>
</div>
<a id="aa3c9443c0f6d11a36b9e9ea4452a4332"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3c9443c0f6d11a36b9e9ea4452a4332">&#9670;&nbsp;</a></span>ESC_MIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ESC_MIN&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Minimum PWM for ESC for a neutral state. </p>

</div>
</div>
<a id="a8e1ee46448a9d6fd89208aa48e0b1e58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e1ee46448a9d6fd89208aa48e0b1e58">&#9670;&nbsp;</a></span>MOTOR_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MOTOR_PIN&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The pin number of which the ESC data pin should be connected to. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="afe461d27b9c48d5921c00d521181f12f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe461d27b9c48d5921c00d521181f12f">&#9670;&nbsp;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Arduino loop function. Runs over and over, until the Arduino is turned off. Starts after the <a class="el" href="ard-speed_8ino.html#a4fc01d736fe50cf5b977f755b675f11d">setup()</a> has finished. </p>
<p>This loop can be configured in the source code to do one of two things:</p><ol type="1">
<li>Calculate a PID signal used for setting the target PWM signal, so that the car maintains a set speed.</li>
<li>Translate the given target speed into a target PWM signal, in case the PID parameters are not set up properly.</li>
</ol>
<p>The PWM signal sent to the motor is a signal that is incremented or decremented each step to try and become equal to the set target PWM. This makes the motor run more smoothly and reduces the wear-out time.</p>
<p>The ESC has a specific case where if the PWM is set to something higher than the neutral value (somewhere between 1000 and 1100) and the motor can't turn due to some load and friction, the ESC will set the motor PWM to neutral by itself to avoid tear. To be able to start the motor again, you have to send the ESC a neutral PWM for a few milliseconds, and then continue with your higher values. This is taken care of in the loop as well. </p>

</div>
</div>
<a id="a41ab216e5535ffb96f4af0064e3b2ddd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41ab216e5535ffb96f4af0064e3b2ddd">&#9670;&nbsp;</a></span>setMotorPWM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setMotorPWM </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dutyCycle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for setting the motor PWM from a percentage value. </p>
<p>This function is used to convert a percentage into a PWM signal in the valid range.</p>
<p>dutyCycle == 0.0 =&gt; standing still <br />
0.0 &lt; dutyCycle &lt; 1.0 =&gt; driving forward <br />
 dutyCycle == 1.0 =&gt; driving forward full speed <br />
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab5fcfbcfe3428207cc7df005160d878f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5fcfbcfe3428207cc7df005160d878f">&#9670;&nbsp;</a></span>errorSum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float errorSum = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used with the integral term in the PID controller </p>

</div>
</div>
<a id="a9ce8e6a119ea980396953dac248489a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ce8e6a119ea980396953dac248489a2">&#9670;&nbsp;</a></span>intermediateTargetSpeed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte intermediateTargetSpeed = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>&lt; Used to to send PWM signals to the ESC Used to smoothen speed changes </p>

</div>
</div>
<a id="a2246025bfa9564925f9204954b759ad5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2246025bfa9564925f9204954b759ad5">&#9670;&nbsp;</a></span>iterationsFromStop</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iterationsFromStop = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used for handling ESC safety measures and avoiding noisy data from SPI </p>

</div>
</div>
<a id="aafc1a3c9947000e0a7d3104f1db4532e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafc1a3c9947000e0a7d3104f1db4532e">&#9670;&nbsp;</a></span>lastEncoderVal</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte lastEncoderVal = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set through SPI for encoder feedback, used by PID controller </p>

</div>
</div>
<a id="a1bdd1e71e8033361065bc303d06f7d21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bdd1e71e8033361065bc303d06f7d21">&#9670;&nbsp;</a></span>lastPWM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float lastPWM = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used to check the state of motor and to handle the ESC safety measures described in <a class="el" href="ard-speed_8ino.html#afe461d27b9c48d5921c00d521181f12f">loop()</a> </p>

</div>
</div>
<a id="af6ab5e3eb9d1c0d756423a96f95730a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6ab5e3eb9d1c0d756423a96f95730a6">&#9670;&nbsp;</a></span>PID_I</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float PID_I = 0.005</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used for the integral term in the PID controller. Adjust this as necessary </p>

</div>
</div>
<a id="a3995286df48f23812499c294c02764bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3995286df48f23812499c294c02764bb">&#9670;&nbsp;</a></span>PID_P</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float PID_P = 0.005</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used for the proportional control in the PID controller. Adjust this as necessary </p>

</div>
</div>
<a id="a8351c4fcb750bbcffa4d8a35849724fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8351c4fcb750bbcffa4d8a35849724fe">&#9670;&nbsp;</a></span>targetSpeed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte targetSpeed = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set through SPI to define the target speed </p>

</div>
</div>
<a id="a8cc45e3ef5aa676459bce8984ad53c53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cc45e3ef5aa676459bce8984ad53c53">&#9670;&nbsp;</a></span>time_last</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long time_last</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used by the program to calculate time difference </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
