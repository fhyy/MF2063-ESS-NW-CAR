<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESS-NW-CAR: MotorSpeedService Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ESS-NW-CAR
   </div>
   <div id="projectbrief">Embedded Self-adaptive Services</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classMotorSpeedService-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MotorSpeedService Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class provides the speed sensor service and the motor actuator service.  
 <a href="classMotorSpeedService.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="motor__speed__service_8hpp_source.html">motor_speed_service.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for MotorSpeedService:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorSpeedService__coll__graph.png" border="0" usemap="#MotorSpeedService_coll__map" alt="Collaboration graph"/></div>
<map name="MotorSpeedService_coll__map" id="MotorSpeedService_coll__map">
<area shape="rect" id="node2" href="classCSharedMemory.html" title="CSharedMemory" alt="" coords="5,5,125,32"/>
<area shape="rect" id="node3" href="classBuffer.html" title="Buffer" alt="" coords="150,5,207,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac3450e1936cae5ecc648af8260119024"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#ac3450e1936cae5ecc648af8260119024">MotorSpeedService</a> (uint32_t sp_sleep, uint8_t min_dist, bool skip_go)</td></tr>
<tr class="memdesc:ac3450e1936cae5ecc648af8260119024"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for the <a class="el" href="classMotorSpeedService.html" title="This class provides the speed sensor service and the motor actuator service. ">MotorSpeedService</a> class.  <a href="#ac3450e1936cae5ecc648af8260119024">More...</a><br /></td></tr>
<tr class="separator:ac3450e1936cae5ecc648af8260119024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13d748b68b6cc7cb84139de7dc4433de"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#a13d748b68b6cc7cb84139de7dc4433de">init</a> ()</td></tr>
<tr class="memdesc:a13d748b68b6cc7cb84139de7dc4433de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializer for a <a class="el" href="classMotorSpeedService.html" title="This class provides the speed sensor service and the motor actuator service. ">MotorSpeedService</a> app/instance.  <a href="#a13d748b68b6cc7cb84139de7dc4433de">More...</a><br /></td></tr>
<tr class="separator:a13d748b68b6cc7cb84139de7dc4433de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab43bbecbcaf418aaf0a86eb5c8d70c6f"><td class="memItemLeft" align="right" valign="top"><a id="ab43bbecbcaf418aaf0a86eb5c8d70c6f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#ab43bbecbcaf418aaf0a86eb5c8d70c6f">start</a> ()</td></tr>
<tr class="memdesc:ab43bbecbcaf418aaf0a86eb5c8d70c6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the application by registering it to the vsomeip runtime environment. <br /></td></tr>
<tr class="separator:ab43bbecbcaf418aaf0a86eb5c8d70c6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae94ea2b3b08070c29fb9eff30b957759"><td class="memItemLeft" align="right" valign="top"><a id="ae94ea2b3b08070c29fb9eff30b957759"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#ae94ea2b3b08070c29fb9eff30b957759">stop</a> ()</td></tr>
<tr class="memdesc:ae94ea2b3b08070c29fb9eff30b957759"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the application by joining all threads and deregistering from the vsomeip RTE. <br /></td></tr>
<tr class="separator:ae94ea2b3b08070c29fb9eff30b957759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d24bf3b7af4e769172d5fa3911fedf2"><td class="memItemLeft" align="right" valign="top"><a id="a4d24bf3b7af4e769172d5fa3911fedf2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#a4d24bf3b7af4e769172d5fa3911fedf2">is_running</a> ()</td></tr>
<tr class="memdesc:a4d24bf3b7af4e769172d5fa3911fedf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter so external entities can read the run_ member. <br /></td></tr>
<tr class="separator:a4d24bf3b7af4e769172d5fa3911fedf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a8fd8b2abfb1189e2ecf62c2d71a60979"><td class="memItemLeft" align="right" valign="top"><a id="a8fd8b2abfb1189e2ecf62c2d71a60979"></a>
<a class="el" href="classCSharedMemory.html">CSharedMemory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#a8fd8b2abfb1189e2ecf62c2d71a60979">shm_sp</a></td></tr>
<tr class="memdesc:a8fd8b2abfb1189e2ecf62c2d71a60979"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared memory used for IPC between the speed sensor reader program and this class. <br /></td></tr>
<tr class="separator:a8fd8b2abfb1189e2ecf62c2d71a60979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0545c5f14b5e870d6d433810fa81724"><td class="memItemLeft" align="right" valign="top"><a id="ac0545c5f14b5e870d6d433810fa81724"></a>
<a class="el" href="classBuffer.html">Buffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#ac0545c5f14b5e870d6d433810fa81724">buf_sp</a></td></tr>
<tr class="memdesc:ac0545c5f14b5e870d6d433810fa81724"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cyclic buffer for keeping track of speed values in the shared memory. <br /></td></tr>
<tr class="separator:ac0545c5f14b5e870d6d433810fa81724"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba88d71d701f2c5036c5d32bf9fd1e68"><td class="memItemLeft" align="right" valign="top"><a id="aba88d71d701f2c5036c5d32bf9fd1e68"></a>
<a class="el" href="classCSharedMemory.html">CSharedMemory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#aba88d71d701f2c5036c5d32bf9fd1e68">shm_mo</a></td></tr>
<tr class="memdesc:aba88d71d701f2c5036c5d32bf9fd1e68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared memory used for IPC between this class and the motor control program. <br /></td></tr>
<tr class="separator:aba88d71d701f2c5036c5d32bf9fd1e68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a842dcf2b70042f4d52dd7b8061f15482"><td class="memItemLeft" align="right" valign="top"><a id="a842dcf2b70042f4d52dd7b8061f15482"></a>
<a class="el" href="classBuffer.html">Buffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#a842dcf2b70042f4d52dd7b8061f15482">buf_mo</a></td></tr>
<tr class="memdesc:a842dcf2b70042f4d52dd7b8061f15482"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cyclic buffer for keeping track of requested motor values in the shared memory. <br /></td></tr>
<tr class="separator:a842dcf2b70042f4d52dd7b8061f15482"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ab731a4cb2ab3a8b1a52a8d125c407e06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#ab731a4cb2ab3a8b1a52a8d125c407e06">run_sp</a> ()</td></tr>
<tr class="memdesc:ab731a4cb2ab3a8b1a52a8d125c407e06"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is the method run by <a class="el" href="classMotorSpeedService.html#a45c0fc7aa78aa1c8ef28eab5bae3ec93">pub_sp_thread_</a>.  <a href="#ab731a4cb2ab3a8b1a52a8d125c407e06">More...</a><br /></td></tr>
<tr class="separator:ab731a4cb2ab3a8b1a52a8d125c407e06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50fe5512ea3987f1201009fa0bf8178e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#a50fe5512ea3987f1201009fa0bf8178e">on_dist_eve</a> (const std::shared_ptr&lt; vsomeip::message &gt; &amp;msg)</td></tr>
<tr class="memdesc:a50fe5512ea3987f1201009fa0bf8178e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that is called when a distance event is detected.  <a href="#a50fe5512ea3987f1201009fa0bf8178e">More...</a><br /></td></tr>
<tr class="separator:a50fe5512ea3987f1201009fa0bf8178e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13c24e080b749f3d6dd93fa6d397e899"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#a13c24e080b749f3d6dd93fa6d397e899">on_motor_req</a> (const std::shared_ptr&lt; vsomeip::message &gt; &amp;msg)</td></tr>
<tr class="memdesc:a13c24e080b749f3d6dd93fa6d397e899"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that is called when a message with MOTOR_METHOD_ID arrives.  <a href="#a13c24e080b749f3d6dd93fa6d397e899">More...</a><br /></td></tr>
<tr class="separator:a13c24e080b749f3d6dd93fa6d397e899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3acb5012b62769c40471546ab43363f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#a3acb5012b62769c40471546ab43363f7">on_setmin_req</a> (const std::shared_ptr&lt; vsomeip::message &gt; &amp;msg)</td></tr>
<tr class="memdesc:a3acb5012b62769c40471546ab43363f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that is called when a message with SETMIN_METHOD_ID arrives.  <a href="#a3acb5012b62769c40471546ab43363f7">More...</a><br /></td></tr>
<tr class="separator:a3acb5012b62769c40471546ab43363f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d9574318ea94be06a306484e74770c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#a2d9574318ea94be06a306484e74770c2">on_shutdown</a> (const std::shared_ptr&lt; vsomeip::message &gt; &amp;msg)</td></tr>
<tr class="memdesc:a2d9574318ea94be06a306484e74770c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that is called when a message with SHUTDOWN_METHOD_ID arrives.  <a href="#a2d9574318ea94be06a306484e74770c2">More...</a><br /></td></tr>
<tr class="separator:a2d9574318ea94be06a306484e74770c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9a2e4884cc76dc77530def60a718b8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#af9a2e4884cc76dc77530def60a718b8e">on_go_availability</a> (vsomeip::service_t serv, vsomeip::instance_t inst, bool go)</td></tr>
<tr class="memdesc:af9a2e4884cc76dc77530def60a718b8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that is called when the availability of the go-service changes.  <a href="#af9a2e4884cc76dc77530def60a718b8e">More...</a><br /></td></tr>
<tr class="separator:af9a2e4884cc76dc77530def60a718b8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bbfad58b8c6b1865a211545a0f53430"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#a0bbfad58b8c6b1865a211545a0f53430">on_dist_availability</a> (vsomeip::service_t serv, vsomeip::instance_t inst, bool use_dist)</td></tr>
<tr class="memdesc:a0bbfad58b8c6b1865a211545a0f53430"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that is called when the availability of the distance-service changes.  <a href="#a0bbfad58b8c6b1865a211545a0f53430">More...</a><br /></td></tr>
<tr class="separator:a0bbfad58b8c6b1865a211545a0f53430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4661a85c76f400c601854194152c7941"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#a4661a85c76f400c601854194152c7941">on_state</a> (vsomeip::state_type_e state)</td></tr>
<tr class="memdesc:a4661a85c76f400c601854194152c7941"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that is called when the registration state of the application changes.  <a href="#a4661a85c76f400c601854194152c7941">More...</a><br /></td></tr>
<tr class="separator:a4661a85c76f400c601854194152c7941"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a5578432457ec329bfa01cb27308889ce"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#a5578432457ec329bfa01cb27308889ce">run_</a></td></tr>
<tr class="memdesc:a5578432457ec329bfa01cb27308889ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main on/off switch for application.  <a href="#a5578432457ec329bfa01cb27308889ce">More...</a><br /></td></tr>
<tr class="separator:a5578432457ec329bfa01cb27308889ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd01e59e7990365bd5b0886120b58393"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#abd01e59e7990365bd5b0886120b58393">go_</a></td></tr>
<tr class="memdesc:abd01e59e7990365bd5b0886120b58393"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause switch for all threads.  <a href="#abd01e59e7990365bd5b0886120b58393">More...</a><br /></td></tr>
<tr class="separator:abd01e59e7990365bd5b0886120b58393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55f2dd70f41aaa2565b08822df200ad3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#a55f2dd70f41aaa2565b08822df200ad3">skip_go_</a></td></tr>
<tr class="memdesc:a55f2dd70f41aaa2565b08822df200ad3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables pause switch (<a class="el" href="classMotorSpeedService.html#abd01e59e7990365bd5b0886120b58393">go_</a>) for all threads.  <a href="#a55f2dd70f41aaa2565b08822df200ad3">More...</a><br /></td></tr>
<tr class="separator:a55f2dd70f41aaa2565b08822df200ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aba73d5dd78e16896e79509ae859160"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#a2aba73d5dd78e16896e79509ae859160">use_dist_</a></td></tr>
<tr class="memdesc:a2aba73d5dd78e16896e79509ae859160"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set to true if the distance service is up and can be used for emergency break events.  <a href="#a2aba73d5dd78e16896e79509ae859160">More...</a><br /></td></tr>
<tr class="separator:a2aba73d5dd78e16896e79509ae859160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f4deb7fbd6243fb54106065572ca3f5"><td class="memItemLeft" align="right" valign="top"><a id="a7f4deb7fbd6243fb54106065572ca3f5"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#a7f4deb7fbd6243fb54106065572ca3f5">pub_sp_sleep_</a></td></tr>
<tr class="memdesc:a7f4deb7fbd6243fb54106065572ca3f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time (in milliseconds) that the speed publisher thread will sleep between cycles. <br /></td></tr>
<tr class="separator:a7f4deb7fbd6243fb54106065572ca3f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f99caee236ed87e9bc915e663f60040"><td class="memItemLeft" align="right" valign="top"><a id="a3f99caee236ed87e9bc915e663f60040"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#a3f99caee236ed87e9bc915e663f60040">min_dist_</a></td></tr>
<tr class="memdesc:a3f99caee236ed87e9bc915e663f60040"><td class="mdescLeft">&#160;</td><td class="mdescRight">The threshold for when an emergency break event is published. <br /></td></tr>
<tr class="separator:a3f99caee236ed87e9bc915e663f60040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45c0fc7aa78aa1c8ef28eab5bae3ec93"><td class="memItemLeft" align="right" valign="top">std::thread&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#a45c0fc7aa78aa1c8ef28eab5bae3ec93">pub_sp_thread_</a></td></tr>
<tr class="memdesc:a45c0fc7aa78aa1c8ef28eab5bae3ec93"><td class="mdescLeft">&#160;</td><td class="mdescRight">The thread object for the function <a class="el" href="classMotorSpeedService.html#ab731a4cb2ab3a8b1a52a8d125c407e06">run_sp</a>.  <a href="#a45c0fc7aa78aa1c8ef28eab5bae3ec93">More...</a><br /></td></tr>
<tr class="separator:a45c0fc7aa78aa1c8ef28eab5bae3ec93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b456b2b0ad2524fcbaa2e4b986b3cbe"><td class="memItemLeft" align="right" valign="top"><a id="a5b456b2b0ad2524fcbaa2e4b986b3cbe"></a>
std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#a5b456b2b0ad2524fcbaa2e4b986b3cbe">mu_run_</a></td></tr>
<tr class="memdesc:a5b456b2b0ad2524fcbaa2e4b986b3cbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex for synchronizing the start of all threads. <br /></td></tr>
<tr class="separator:a5b456b2b0ad2524fcbaa2e4b986b3cbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeea424065d9d9b71ed22ba3e664a411"><td class="memItemLeft" align="right" valign="top"><a id="aaeea424065d9d9b71ed22ba3e664a411"></a>
std::condition_variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#aaeea424065d9d9b71ed22ba3e664a411">cond_run_</a></td></tr>
<tr class="memdesc:aaeea424065d9d9b71ed22ba3e664a411"><td class="mdescLeft">&#160;</td><td class="mdescRight">Condition variable for synchronizing the start of all threads. <br /></td></tr>
<tr class="separator:aaeea424065d9d9b71ed22ba3e664a411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d1287670e5d35f6e020264cbee960b6"><td class="memItemLeft" align="right" valign="top"><a id="a0d1287670e5d35f6e020264cbee960b6"></a>
std::shared_ptr&lt; vsomeip::application &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#a0d1287670e5d35f6e020264cbee960b6">app_</a></td></tr>
<tr class="memdesc:a0d1287670e5d35f6e020264cbee960b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">VSOMEIP app that provides the speed and motor services. <br /></td></tr>
<tr class="separator:a0d1287670e5d35f6e020264cbee960b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ee63fa157f2691febf80d4d34f78368"><td class="memItemLeft" align="right" valign="top"><a id="a2ee63fa157f2691febf80d4d34f78368"></a>
std::shared_ptr&lt; vsomeip::payload &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorSpeedService.html#a2ee63fa157f2691febf80d4d34f78368">payload_</a></td></tr>
<tr class="memdesc:a2ee63fa157f2691febf80d4d34f78368"><td class="mdescLeft">&#160;</td><td class="mdescRight">Payload that is used for the VSOMEIP packets. <br /></td></tr>
<tr class="separator:a2ee63fa157f2691febf80d4d34f78368"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class provides the speed sensor service and the motor actuator service. </p>
<p>The speed service publishes (notifies) sensor data at a set interval. Another vsomeip application may subscribe to this sevice to get regular speed sensor updates. The motor service follows a client-server model where the client app sends a request and the server (this class) sets the wheels to the requested angle. An instance of this class also subscribes to distance events published by another application. If the value of a distance event falls below a certain threshold, the motor service publishes an "emergency break" event that other vsomeip applications may subscribe to. </p><dl class="section author"><dt>Author</dt><dd>Leon Fernandez </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac3450e1936cae5ecc648af8260119024"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3450e1936cae5ecc648af8260119024">&#9670;&nbsp;</a></span>MotorSpeedService()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MotorSpeedService::MotorSpeedService </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sp_sleep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>min_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>skip_go</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for the <a class="el" href="classMotorSpeedService.html" title="This class provides the speed sensor service and the motor actuator service. ">MotorSpeedService</a> class. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sp_sleep</td><td>Time (in millisec) that the speed notifier thread will sleep during each cycle. </td></tr>
    <tr><td class="paramname">min_dist</td><td>The threshold value that determines when an emergency break event gets published </td></tr>
    <tr><td class="paramname">skip_go</td><td>Allows threads to ignore the value <a class="el" href="classMotorSpeedService.html#abd01e59e7990365bd5b0886120b58393">go_</a>. Only for testing purposes! </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a13d748b68b6cc7cb84139de7dc4433de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13d748b68b6cc7cb84139de7dc4433de">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MotorSpeedService::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializer for a <a class="el" href="classMotorSpeedService.html" title="This class provides the speed sensor service and the motor actuator service. ">MotorSpeedService</a> app/instance. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the initialization was succesful, false otherwise</dd></dl>
<p>Initializes the MotorSpeed app by registering <a class="el" href="classMotorSpeedService.html#a4661a85c76f400c601854194152c7941">on_state</a>, <a class="el" href="classMotorSpeedService.html#a13c24e080b749f3d6dd93fa6d397e899">on_motor_req</a>, <a class="el" href="classMotorSpeedService.html#a3acb5012b62769c40471546ab43363f7">on_setmin_req</a>, <a class="el" href="classMotorSpeedService.html#af9a2e4884cc76dc77530def60a718b8e">on_go_availability</a>, <a class="el" href="classMotorSpeedService.html#a0bbfad58b8c6b1865a211545a0f53430">on_dist_availability</a> and <a class="el" href="classMotorSpeedService.html#a2d9574318ea94be06a306484e74770c2">on_shutdown</a> as handlers for different vsomeip events. It also initializes <a class="el" href="classMotorSpeedService.html#a45c0fc7aa78aa1c8ef28eab5bae3ec93">pub_sp_thread_</a>. </p>

</div>
</div>
<a id="a0bbfad58b8c6b1865a211545a0f53430"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bbfad58b8c6b1865a211545a0f53430">&#9670;&nbsp;</a></span>on_dist_availability()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MotorSpeedService::on_dist_availability </td>
          <td>(</td>
          <td class="paramtype">vsomeip::service_t&#160;</td>
          <td class="paramname"><em>serv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vsomeip::instance_t&#160;</td>
          <td class="paramname"><em>inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>use_dist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function that is called when the availability of the distance-service changes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">serv</td><td>ID of the service, should always be ==DIST_SERVICE_ID </td></tr>
    <tr><td class="paramname">inst</td><td>ID of the specific service instance, should always be ==DIST_INSTANCE_ID </td></tr>
    <tr><td class="paramname">use_dist</td><td>True if the service is available, false otherwise</td></tr>
  </table>
  </dd>
</dl>
<p>Sets <a class="el" href="classMotorSpeedService.html#a2aba73d5dd78e16896e79509ae859160">use_dist_</a> to true if the dist service is available. This allows the motor service to get sensor data directly from the distance service and thereby raise emergency break events. </p>

</div>
</div>
<a id="a50fe5512ea3987f1201009fa0bf8178e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50fe5512ea3987f1201009fa0bf8178e">&#9670;&nbsp;</a></span>on_dist_eve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MotorSpeedService::on_dist_eve </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; vsomeip::message &gt; &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function that is called when a distance event is detected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>vsomeip notification with distance sensor data</td></tr>
  </table>
  </dd>
</dl>
<p>Receives and analyzes distance sensor data. If the data is lower than <a class="el" href="classMotorSpeedService.html#a3f99caee236ed87e9bc915e663f60040">min_dist_</a> it publishes an embreak event. </p>

</div>
</div>
<a id="af9a2e4884cc76dc77530def60a718b8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9a2e4884cc76dc77530def60a718b8e">&#9670;&nbsp;</a></span>on_go_availability()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MotorSpeedService::on_go_availability </td>
          <td>(</td>
          <td class="paramtype">vsomeip::service_t&#160;</td>
          <td class="paramname"><em>serv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vsomeip::instance_t&#160;</td>
          <td class="paramname"><em>inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>go</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function that is called when the availability of the go-service changes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">serv</td><td>ID of the service, should always be ==GO_SERVICE_ID </td></tr>
    <tr><td class="paramname">inst</td><td>ID of the specific service instance, should always be ==GO_INSTANCE_ID </td></tr>
    <tr><td class="paramname">go</td><td>True if the service is available, false otherwise</td></tr>
  </table>
  </dd>
</dl>
<p>The go-service is a service made available by the central node (bbb-car-controller) when that node has a preset number of services (ie when it has discovered all actuators). The availability of the go-service basically works as a pause/play switch for this Class. </p>

</div>
</div>
<a id="a13c24e080b749f3d6dd93fa6d397e899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13c24e080b749f3d6dd93fa6d397e899">&#9670;&nbsp;</a></span>on_motor_req()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MotorSpeedService::on_motor_req </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; vsomeip::message &gt; &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function that is called when a message with MOTOR_METHOD_ID arrives. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>vsomeip message with MOTOR_METHOD_ID and a payload representing the desired speed.</td></tr>
  </table>
  </dd>
</dl>
<p>Unpacks and writes the received request data to a shared memory, which can then be read by the process controlling the motor. </p>

</div>
</div>
<a id="a3acb5012b62769c40471546ab43363f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3acb5012b62769c40471546ab43363f7">&#9670;&nbsp;</a></span>on_setmin_req()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MotorSpeedService::on_setmin_req </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; vsomeip::message &gt; &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function that is called when a message with SETMIN_METHOD_ID arrives. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>vsomeip message with SETMIN_METHOD_ID and a payload representing the minimum distance before embreak events get published.</td></tr>
  </table>
  </dd>
</dl>
<p>Unpacks and sets <a class="el" href="classMotorSpeedService.html#a3f99caee236ed87e9bc915e663f60040">min_dist_</a> to the value of the payload. This allows the minimum distance threshold to be set remotely by another service. </p>

</div>
</div>
<a id="a2d9574318ea94be06a306484e74770c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d9574318ea94be06a306484e74770c2">&#9670;&nbsp;</a></span>on_shutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MotorSpeedService::on_shutdown </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; vsomeip::message &gt; &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function that is called when a message with SHUTDOWN_METHOD_ID arrives. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>vsomeip message with SHUTDOWN_METHOD_ID</td></tr>
  </table>
  </dd>
</dl>
<p>Shuts down the application and the entire program by calling <a class="el" href="classMotorSpeedService.html#ae94ea2b3b08070c29fb9eff30b957759">stop</a>. </p>

</div>
</div>
<a id="a4661a85c76f400c601854194152c7941"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4661a85c76f400c601854194152c7941">&#9670;&nbsp;</a></span>on_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MotorSpeedService::on_state </td>
          <td>(</td>
          <td class="paramtype">vsomeip::state_type_e&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function that is called when the registration state of the application changes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The incoming state that the application has within the vsomeip runtime.</td></tr>
  </table>
  </dd>
</dl>
<p>Upon succesful registration within the vsomeip runtime it offers the speed and motor services (makes them available) and requests association with the go-server and with the distance server. </p>

</div>
</div>
<a id="ab731a4cb2ab3a8b1a52a8d125c407e06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab731a4cb2ab3a8b1a52a8d125c407e06">&#9670;&nbsp;</a></span>run_sp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MotorSpeedService::run_sp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method is the method run by <a class="el" href="classMotorSpeedService.html#a45c0fc7aa78aa1c8ef28eab5bae3ec93">pub_sp_thread_</a>. </p>
<p>It basically waits for the initialization to complete then enters an eternal loop. If the go-service is unavailable it spins around doing nothing. If the go-service is available it publishes some data (preferably sensor data) and then goes to sleep for a set amount of time. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="abd01e59e7990365bd5b0886120b58393"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd01e59e7990365bd5b0886120b58393">&#9670;&nbsp;</a></span>go_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MotorSpeedService::go_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pause switch for all threads. </p>
<p>All threads will just loop in one place without doing anything if set to false. Set to true when a remote server (the go-server) comes online. Set to false if the go-server goes offline or if <a class="el" href="classMotorSpeedService.html#ae94ea2b3b08070c29fb9eff30b957759">stop</a> is called. Initial value is set to false. </p>

</div>
</div>
<a id="a45c0fc7aa78aa1c8ef28eab5bae3ec93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45c0fc7aa78aa1c8ef28eab5bae3ec93">&#9670;&nbsp;</a></span>pub_sp_thread_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::thread MotorSpeedService::pub_sp_thread_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The thread object for the function <a class="el" href="classMotorSpeedService.html#ab731a4cb2ab3a8b1a52a8d125c407e06">run_sp</a>. </p>
<p>Thread that is instatiated inside <a class="el" href="classMotorSpeedService.html#a13d748b68b6cc7cb84139de7dc4433de">init</a>. Continuously reads a sensor value then publishes it for all subscribers to see. Sleeps for <a class="el" href="classMotorSpeedService.html#a7f4deb7fbd6243fb54106065572ca3f5">pub_sp_sleep_</a> milliseconds between cycles. </p>

</div>
</div>
<a id="a5578432457ec329bfa01cb27308889ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5578432457ec329bfa01cb27308889ce">&#9670;&nbsp;</a></span>run_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MotorSpeedService::run_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Main on/off switch for application. </p>
<p>Set to true when initialization is succesfully completed. Set to false when <a class="el" href="classMotorSpeedService.html#ae94ea2b3b08070c29fb9eff30b957759">stop</a> is called, causing all threads to run to completion so they can be joined. </p>

</div>
</div>
<a id="a55f2dd70f41aaa2565b08822df200ad3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55f2dd70f41aaa2565b08822df200ad3">&#9670;&nbsp;</a></span>skip_go_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MotorSpeedService::skip_go_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disables pause switch (<a class="el" href="classMotorSpeedService.html#abd01e59e7990365bd5b0886120b58393">go_</a>) for all threads. </p>
<p>Can only be set by passing an argument at the cmd line when starting the program. </p>

</div>
</div>
<a id="a2aba73d5dd78e16896e79509ae859160"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2aba73d5dd78e16896e79509ae859160">&#9670;&nbsp;</a></span>use_dist_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MotorSpeedService::use_dist_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set to true if the distance service is up and can be used for emergency break events. </p>
<p>If false, <a class="el" href="classMotorSpeedService.html#a3f99caee236ed87e9bc915e663f60040">min_dist_</a> is not used and emergency break events will never occur. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>bbb-motor-speed/src/<a class="el" href="motor__speed__service_8hpp_source.html">motor_speed_service.hpp</a></li>
<li>bbb-motor-speed/src/motor_speed_service.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
